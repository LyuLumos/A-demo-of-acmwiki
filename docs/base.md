# 基本语法
## 理论知识
* C语言书写格式是自由的，每行可以写多个语句，可以写多行。
* 一个C语言程序有且只有一个main函数，是程序运行的起点。
* 每个C语言程序写完后，都是先编译，后链接，最后运行。（.c->.obj->.exe）这个过程中注意.c和.obj文件时无法运行的，只有.exe文件才可以运行。
* C面向过程，C++、java面向对象。
## 标识符
* 合法的要求是由字母、数字、下划线组成，并且第一个必须为字母或是下划线。
* 关键字不可以作为用户标识符号。`main  define  scanf  printf include If` 都不是关键字。  
* ~~驼峰命名法~~
## 整数
|数据类型|定义标识符|占字节数|数值范围|
|-|-|-|-|
|短整型|```short```|2|-2<sup>15</sup>~2<sup>15</sup>-1 (32767)|
|整型|```int```|4|-2<sup>31</sup>~2<sup>31</sup>-1(约2×10<sup>9</sup>)|
|超长整型|```long long```|8|-2<sup>63</sup>~2<sup>63</sup>-1(约9×10<sup>18</sup>)|
|无符号整型|```unsigned int```|4|0~2<sup>32</sup>-1(约4×10<sup>9</sup>)|
其余无符号类型同理
## 实数
|数据类型|定义标识符|数值范围|占字节数|有效位数|
|-|-|-|-|-|
|单精度实型|```float```|-3.4×10<sup>38</sup>~3.4×10<sup>38</sup>|4|6~7位|
|双精度实型|```double```|-1.7×10<sup>308</sup>~1.7×10<sup>308</sup>|8|15~16位|
|布尔型|```bool```|```true```或```false```|1||
### 陷阱：全整数除法
两个整数相除结果还是整数，```5/2```的值为2而不是2.5  
解决方法：至少一个数转换成浮点数，如```5/2.0``` ```(float)a/b```
除以0会返回`NaN`
## 字符型
|定义标识符|占字节数|数值范围|
|-|-|-|
|```char```|1|-128~127|

1. 直接表示
```char c = 'A';```
2. [ASCII码表示](http://ascii.911cha.com/)
```char ch = 65;```
3. 转义字符
换行符 ```'\n'```
单引号 ```'\''```
反斜杠 ```'\\'```
* 字符型也可以做加减运算

## 运算符和表达式
|运算符类型|常用运算符|示例|
|-|-|-|
|算术运算符|+ - * / % ++ --|```5 % 2```|
|关系运算符|> < == >= <= !=|```a == 1```|
|逻辑运算符|&& \|\| !|```a>0 && a<b```|
|位操作运算符|& \| ~ ^ << >>|```1<<2```|
|赋值运算符|= += &= <<=|```a += 2```|
|条件运算符|? : |```a == 1 ? 1 : 0```|
|指针运算符|* &|```*it```|
### 赋值语句
* 格式：
&emsp;&emsp;```变量 = 表达式;```
* 意义：
&emsp;&emsp;将右边表达式的值赋给左边的变量
* **一定要区分 ```=``` 和 等于， C语言中判断相等用 ```==``` 运算符**
  ```c
  if(a = 1) //×
  while(a = 1) //×
  ```
* 在进行赋值运算时，如果赋值运算符两边的数据类型不同，系统将会自动进行类型转换，即将赋值运算符右边的数据类型转换成左边的变量类型。可能会出现数据丢失。
### 运算符优先级

### 自增表达式
```cpp
int a = 21;
   int c ;
 
   // a 的值在赋值之前不会自增
   c = a++;   
   // c = 21 a = 22

   // a 的值在赋值之前自增
   c = ++a;  
   // c = 23 a = 23
```
### 位运算
|运算符|名称|作用|
|-|-|-|
|&|	与	|两个位都为1时，结果才为1|
|&#124;|	或|	两个位都为0时，结果才为0|
|^|	异或	|两个位相同为0，相异为1|
|~	|取反|	0变1，1变0|
|<<	|左移	|各二进位全部左移若干位，高位丢弃，低位补0|
|>>|	右移|各二进位全部右移若干位，对无符号数，高位补0，有符号数|

* 区分 `|` 和 `||` ， `&` 和 `&&`
## 标准输入输出
* 头文件：```<stdio.h>```
* 输入函数：  
```scanf("%对应格式字符", &变量名);```
* 输出函数:     
   ```printf("其他字符 %对应格式字符 其他字符", 变量名);```
* 一定不要忘记```scanf```函数中的&
* ```字符类型变量名 = getchar();``` 使用时注意吃掉换行符

|数据类型|格式符*|数据类型|格式符*|
|-|-|-|-|
|```int```|```%d```|```long long```|```%lld```|
|```unsigned long long```|```%llu```|||
|```char```|```%c```|字符数组|```%s```|
|```float```|```%f```|```double```|```%lf```|
*这里为了看着方便加上了%
```cpp
int a;
long long b;
char c;
double d = 1.0;
float f = 2.7;

scanf("%d%lld", &a, &b);
scanf("%c", &c); //空格，回车，缩进都会被读入，注意！
printf("%d%d", a, c); //c被转换成int类型
printf("ans = %f %.12lf\n", f, d);
```

### 反例：初学者常犯的错误
```cpp
int mian()
{
    int a, b; c, d = 1;
    bool flag1 = ture, flag2 = flase;
    scanf("%d", a);
    printf("%d, b");
    c = b + 1
    e = 2ab;
    return 1;
}
```
# 逻辑结构
## 程序设计基本思路
输入 --> 计算处理 --> 输出
## 基本结构
```cpp
#include <stdio.h> // 头文件

int main() // 主函数
{
    printf("Hello, world!"); // 调用 printf 函数
    return 0; // 返回0，主函数不能返回其他值
}
```
## 顺序结构
## 选择结构
### if
```cpp
    if(条件表达式) {
        语句1;
        语句2;
    }
    else if(条件表达式) {
        语句3;
    }
    else {
        语句4;
    }
```
### switch
```cpp
switch(表达式)
{
    case 常量表达式1：
        语句1；
        break;
    case 常量表达式2：
        语句2；
        语句3；
        break;
    ...
    default: //可省略
        语句n；
}
```
* 不要忘记```break```和每种情况后的```:```
* ```switch```语句的对象只能是```int``` ```char``` ```bool```类型的数据
## 循环结构
### for
```c
for ( init; condition; increment ) {
   statement(s);
}
```
### while
```c
while ( condition ) {
   statement(s);
}
```
### do-while
```c
do {
   statement(s); // 语句至少会被执行一次
}while( condition );
```

### 嵌套循环
### 死循环
# 数组
```c
type arrayName[arraySize];
```
## 一维数组
```c
int a[1005];
int b[3] = {1, 2, 3};
int c[] = {1, 2, 3};
scanf("%d", &a[0]);
printf("%d", c[3]); // 越界
```
## 二维数组
```c
double mp[105][105];
```
## 字符数组
```c
char d[105] = {'\0'};
char parr[] = "zifushuzu";
char charr[] = { 'z','i','f','u','s','h','u','z','u' };
```
* 读入时注意回车与空格
# 函数
## 定义
```
返回值类型 函数名(参数1类型 参数1名称, 参数2类型 参数2名称……) 
{
    语句组(函数体);
    返回值;
}
```
* **函数不允许嵌套定义**，但是允许嵌套使用。
```cpp
int sum(int a, int b)
{
    int ans = 0;
    ans = a + b;
    return ans;
}
```
* 一旦使用头文件后不可以定义库函数，比如，使用`<stdio.h>`后不能再自己定义`printf`函数。原则上，平常定义函数时也应尽量避免与库函数重名。
## 调用
`调用函数： 函数名（参数1, 参数2，……）`
* 对函数的调用，也是一个表达式。函数调用表达式的值，由函数内部的`return`语句决定。  
* `printf`也是函数，它的声明在`<stdio.h>`头文件里。

Q:  为什么大侠们使用绝招时都要先喊一声“降龙十八掌”之类的？
A:  因为**函数调用之前要先声明**。
```cpp
#include <stdio.h>
int sum(int a, int b); //声明
int main()
{
	int a = 1, b = 2;
	printf("%d\n", sum(a, b));
}
int sum(int a, int b)
{
	return a + b;
}
```
## 返回值
return语句语法如下： 
&emsp;`return 返回值；`
* return语句的功能是**结束函数的执行，并将“返回值”作为结果返回**。“返回值”是常量、变量或复杂的表达式均可。
* 如果函数返回值类型为`void`，return语句就直接写 `return ;`
```cpp
int a[] = {1, 1, 2, 3, 5, 8, 13};
void show(int n)
{
    for(int i = 0; i < n; i++) 
        printf("%d ", a[i]);
    return ;
}
int Max(int x,int y) // 求两个整型变量中的较大值
{
    if(x > y)
        return x;
    return y; // 除void外函数一定要有返回，返回意味着函数结束
}
```
## 全局变量与局部变量
* 在函数外部定义的变量称为全局变量，在函数内部定义的变量称为局部变量。
```cpp
#include <stdio.h>
int a[105]; //数组a-全局
int n; //n-全局
int muln(int x) //x-局部
{
    int t; //t-局部
    t = x * n;
    return t;
}
int main()
{
    scanf("%d", &n);
    for(int i = 0; i < n; i++) //i-局部
        scanf("%d", &a[i]);
}
```
### 全局变量
* 全局变量的作用域是从变量定义的位置开始到文件结束，可以在文件中位于全局变量定义后面的任何函数中使用。
* 过多地使用全局变量，会增加调试难度。因为多个函数都能改变全局变量的值。
* 全局变量在定义时默认初值为0。
### 局部变量
* 局部变量的作用域是在定义该变量的函数内部，局部变量只在定义它的函数内有效。
* 在不同的函数中局部变量名可以相同。
* 一个局部变量和一个全局变量是可以重名的，在相同的作用域内局部变量有效。但易出错！尽量避免使用。
* 在代码块中定义的变量的存在时间和作用域将被限制在该代码块中。如`for(int i; i<=n; i++) sum += i;`中的`i`是在该`for`循环语句中定义的，存在时间和作用域只能被限制在该for循环语句中。 
* 局部变量值是随机的，要**初始化初值**。
* 局部变量受栈空间大小限制，大数组需要注意。通俗地说，main函数里数组不能开很大（十万级别）。
## 函数参数的传递
原则： 用什么传什么
```
返回值类型 函数名(参数1类型 参数1名称, 参数2类型 参数2名称……) 
{
    函数体;
    返回值;
}
```
### 整型/实型变量作函数参数
```cpp
double dis(double x1, double y1, double x2, double y2)
{
    return sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));
}
int fun(double x)
{
    return x; //double -> int 类型转换
}
int Max(int a, int b)
{
    return a > b ? a : b;
}
```
---
### 一维数组作函数参数
写法如下： 
`函数类型 函数名(数组类型名 数组名[])`
不用写出数组的元素个数。
例如：
```cpp
void PrintArray(int a[]) 
{
   ...
}
int b[] = {1, 2, 3};
int main()
{
    PrintArray(b); //调用时只用写数组名
}
```
* 数组作为函数参数时是传址引用的，即形参数组改变了，实参数组也会改变。

### 二维数组作为函数的参数
* 二维数组作为形参时，必须写明数组有多少列，不用写明有多少行。
```cpp
void PrintArray(int a[][5]) 
{
    printf("%d", a[4][3]);
}
```

<br></br>
<br></br>
<br></br>

Contribute by [LuLmos](https://github.com/LyuLumos)